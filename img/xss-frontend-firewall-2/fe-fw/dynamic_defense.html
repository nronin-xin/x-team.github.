<!doctype html>
<html>
<head>
	<meta charset="utf-8" />
</head>
<body>
	<script>
		document.addEventListener('DOMNodeInserted', function(e) {
			var node = e.target;

			if (/xss/.test(node.src) || /xss/.test(node.innerHTML)) {
				node.parentNode.removeChild(node);
				console.log('拦截可疑模块:', node);
			}
		}, true);
	</script>

	<button id="btn">创建脚本</button>
	<script>
		btn.onclick = function() {
			var el = document.createElement('script');
			el.src = 'http://www.etherdream.com/xss/out.js?dynamic';
			document.body.appendChild(el);
		};
	</script>
</body>
</html>